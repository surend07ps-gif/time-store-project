<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Time Store - Luxury Timepieces</title>
    <meta name="description" content="Discover a curated collection of the world's most exceptional timepieces. Where engineering meets artistry in perfect harmony." />
    <meta name="author" content="The Time Store" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <meta property="og:title" content="The Time Store - Luxury Timepieces" />
    <meta property="og:description" content="Discover a curated collection of the world's most exceptional timepieces." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/src/assets/preview.jpg" />
    <meta property="og:url" content="https://thetimestore.vercel.app/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="/src/assets/preview.jpg" />
    
    <!-- Add base href for proper routing -->
    <base href="/" />
    
    <style>
      #loading-fallback {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #0a0a0a;
        color: white;
        font-family: Inter, sans-serif;
        z-index: 9999;
        justify-content: center;
        align-items: center;
        flex-direction: column;
      }
      
      #loading-fallback.show {
        display: flex;
      }
      
      .spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        border-top-color: #fff;
        animation: spin 1s ease-in-out infinite;
        margin-bottom: 20px;
      }
      
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
    </style>
  </head>

  <body>
    <div id="root">
      <!-- Fallback content if JavaScript fails to load -->
      <div id="loading-fallback" class="show">
        <div class="spinner"></div>
        <p>Loading The Time Store...</p>
        <p style="margin-top: 20px; font-size: 14px; color: #888;">If this takes too long, please check your internet connection</p>
      </div>
    </div>
    
    <script>
      // Hide fallback when app loads
      window.addEventListener('load', function() {
        const fallback = document.getElementById('loading-fallback');
        if (fallback) {
          fallback.classList.remove('show');
        }
      });
      
      // Show error if app fails to load
      setTimeout(function() {
        const fallback = document.getElementById('loading-fallback');
        if (fallback && fallback.classList.contains('show')) {
          fallback.innerHTML = `
            <p style="color: #f87171;">⚠️ Failed to load application</p>
            <p style="font-size: 14px; color: #aaa; margin-top: 10px; text-align: center; max-width: 300px;">
              There might be an issue with the website. Please try refreshing the page or contact support.
            </p>
            <div style="margin-top: 20px; display: flex; gap: 10px;">
              <button onclick="location.reload()" style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Retry</button>
              <a href="/health.html" style="background: #6b7280; color: white; text-decoration: none; padding: 8px 16px; border-radius: 4px;">Health Check</a>
            </div>
          `;
        }
      }, 10000); // Show error after 10 seconds
    </script>
    
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>